{"version":3,"sources":["components/PopupWithForm.js","components/AddPlacePopup.js","utils/api.js","utils/auth.js","contexts/CurrentUserContext.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/Footer.js","images/logo.svg","components/Header.js","components/ImagePopup.js","images/error.svg","images/success.svg","components/InfoToolTip.js","components/AuthForm.js","components/Login.js","images/trash.svg","components/Card.js","components/Main.js","components/ProtectedRoute.js","components/Register.js","components/App.js","reportWebVitals.js","index.js"],"names":["PopupWithForm","props","className","type","isOpen","onClick","onClose","title","action","onSubmit","children","value","buttonText","AddPlacePopup","newCardNameRef","React","useRef","newCardPicRef","e","preventDefault","onAddPlace","name","current","link","ref","required","minLength","maxLength","placeholder","api","baseUrl","headers","this","res","ok","json","Promise","reject","status","token","fetch","method","then","_checkResponse","about","body","JSON","stringify","cardID","avatar","auth","console","log","email","password","data","localStorage","setItem","CurrentUserContext","createContext","EditAvatarPopup","updateAvatarRef","onUpdateAvatar","id","EditProfilePopup","useState","setName","description","setDescription","currentUser","useContext","useEffect","onUpdateUser","onChange","target","Footer","Header","loggedIn","history","useHistory","src","logo","alt","userData","onLogOut","removeItem","push","path","to","ImagePopup","card","InfoToolTip","isRegistered","successImage","errorImage","AuthForm","onEmailChange","onPasswordChange","handleSubmit","footerLink","footerText","Login","setEmail","setPassword","Card","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardDelete","trashPath","style","backgroundImage","onCardClick","onCardLike","length","Main","onEditAvatar","aria__label","onEditProfile","cards","map","handleCardClick","ProtectedRoute","Component","component","Register","App","addPlacePopupOpen","setIsAddPlaceOpen","setCards","setCurrentUser","editAvatarPopupOpen","setIsEditAvatarOpen","editProfilePopupOpen","setIsEditProfileOpen","infoToolTipOpen","setIsInfoToolTipOpen","selectedCard","setSelectedCard","setLoggedIn","register","setRegister","setUserData","closeAllPopups","getItem","getUserInfo","catch","err","getContent","getCardsList","Provider","addCard","newUser","setUserPic","setUserInfo","exact","removeCard","updatedList","filter","c","deleteLike","newCard","state","addLike","registerUser","authorizeUser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.82f945ed.chunk.js","sourcesContent":["import React from 'react';\n\nfunction PopupWithForm(props) {\n    return (\n        <>\n            <div className={`popup popup__${props.type} ${props.isOpen ? 'popup_is_open' : ''}`}>\n                <div className={`popup__container`}  >\n                    <button type=\"button\" aria-label=\"close\" className=\"button popup__close\" onClick={props.onClose}></button>\n                    <h2 className={`popup__container-title`}>{props.title}</h2>\n                    <form className=\"popup__form\" action=\"#\" onSubmit={props.onSubmit}>\n                        {props.children}\n                        <button type=\"submit\" value=\"submit\" className={`button popup__submit popup__button`}>{props.buttonText}</button>\n                    </form>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup(props) {\n\n    const newCardNameRef = React.useRef();\n    const newCardPicRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onAddPlace({\n            name: newCardNameRef.current.value,\n            link: newCardPicRef.current.value\n        })\n    }\n\n    return (\n        <PopupWithForm title='New place' type='add-place' isOpen={props.isOpen} buttonText='Save' onClose={props.onClose} onSubmit={handleSubmit}>\n            <input ref={newCardNameRef} required minLength=\"1\" maxLength=\"30\" type=\"text\"\n                className=\"popup__input popup__input-type-title\" placeholder=\"Title\" />\n            <span className=\"popup__error\"></span>\n            <input ref={newCardPicRef} required type=\"url\" className=\"popup__input popup__input-type-link\"\n                placeholder=\"Image link\" />\n            <span className=\"popup__error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup\n","class Api {\n    constructor({ baseUrl, headers }) {\n        this.baseUrl = baseUrl\n        this.headers = headers\n    }\n\n    _checkResponse(res) {\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)\n    }\n\n    getUserInfo(token) {\n        return fetch(`${this.baseUrl}/users/me`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`,\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    setUserInfo(token, { name, about }) {\n        return fetch(`${this.baseUrl}/users/me`, {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`,\n            },\n            body: JSON.stringify({ name, about })\n        })\n            .then(this._checkResponse)\n    }\n\n    getCardsList(token) {\n        return fetch(`${this.baseUrl}/cards`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`,\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    addCard(token, { name, link }) {\n        return fetch(`${this.baseUrl}/cards`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`,\n            },\n            body: JSON.stringify({ name, link })\n        })\n            .then(this._checkResponse)\n    }\n\n    removeCard(cardID, token) {\n        return fetch(`${this.baseUrl}/cards/${cardID}`, {\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`,\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    addLike(cardID, token) {\n        return fetch(`${this.baseUrl}/cards/likes/${cardID}`, {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`,\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    deleteLike(cardID, token) {\n        return fetch(`${this.baseUrl}/cards/likes/${cardID}`, {\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`,\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    setUserPic(token, { avatar }) {\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`,\n            },\n            body: JSON.stringify({ avatar })\n        })\n            .then(this._checkResponse)\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://api.myaround.students.nomoreparties.sbs'\n})\n\nexport default api;\n","class Auth {\n    constructor({ baseUrl, headers }) {\n        this.baseUrl = baseUrl\n        this.headers = headers\n    }\n\n    _checkResponse(res) {\n        return res.ok ? res.json() : console.log(`Error: ${res.status}`)\n    }\n\n    registerUser(email, password) {\n        return fetch(`${this.baseUrl}/signup`, {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ email, password })\n        })\n            .then(this._checkResponse)\n    }\n\n    authorizeUser(email, password) {\n        return fetch(`${this.baseUrl}/signin`, {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ email, password }),\n        })\n            .then(this._checkResponse)\n            .then((data) => {\n                if (data.token) {\n                    localStorage.setItem('token', data.token);\n                    return data;\n                } else {\n                    return;\n                }\n            })\n    }\n\n    getContent(token) {\n        return fetch(`${this.baseUrl}/users/me`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            }\n        })\n            .then(this._checkResponse)\n            .then(data => data)\n    }\n}\n\nconst auth = new Auth({\n    baseUrl: 'https://api.myaround.students.nomoreparties.sbs'\n})\n\nexport default auth;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditAvatarPopup(props) {\n\n    const updateAvatarRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateAvatar({\n            avatar: updateAvatarRef.current.value,\n        });\n    }\n    return (\n        <PopupWithForm title='Change profile picture' type='edit-avatar' isOpen={props.isOpen} buttonText='Save' onClose={props.onClose} onSubmit={handleSubmit}>\n            <input ref={updateAvatarRef} required type=\"url\" className=\"popup__input popup__input_type-edit-avatar\"\n                placeholder=\"Image link\" />\n            <span className=\"popup__error\" id=\"\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup","import React, { useState } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditProfilePopup(props) {\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about)\n    }, [currentUser, props.isOpen])\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateUser({ name, about: description });\n    }\n\n    return (\n        <PopupWithForm title='Edit profile' type='edit-profile' isOpen={props.isOpen} buttonText='Save' onClose={props.onClose} onSubmit={handleSubmit}>\n            <input required minLength=\"2\" maxLength=\"40\" type=\"text\"\n                className=\"popup__input popup__input__type-edit-profile\" value={name || ''} onChange={handleNameChange} />\n            <span className=\"popup__error\" id=\"\"></span>\n            <input required minLength=\"2\" maxLength=\"200\" type=\"text\"\n                className=\"popup__input popup__input__type-edit-profile\" value={description || ''} onChange={handleDescriptionChange} />\n            <span className=\"popup__error\" id=\"\"></span>\n        </PopupWithForm>)\n}\n\nexport default EditProfilePopup","import React from 'react';\n\nfunction Footer() {\n    return (\n        <div className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2021 Around The U.S.</p>\n        </div>\n    )\n}\n\nexport default Footer","export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import React from 'react';\nimport { NavLink, useHistory, Switch, Route } from 'react-router-dom';\nimport logo from '../images/logo.svg';\n\nfunction Header(props) {\n    const { loggedIn } = props;\n    const history = useHistory();\n\n    function signOut() {\n        props.onLogOut();\n        localStorage.removeItem('token');\n        history.push('/signin');\n    }\n\n\n    if (!loggedIn) {\n        return (\n            <div className=\"header\">\n                <img className=\"logo\" src={logo} alt=\"Around The US logo\" />\n                <nav>\n                    <Switch>\n                        <Route path=\"/signin\">\n                            <NavLink to=\"/signup\" className=\"button header__button\">Sign up</NavLink>\n                        </Route>\n                        <Route path=\"/signup\">\n                            <NavLink to=\"/signin\" className=\"button header__button\">Log in</NavLink>\n                        </Route>\n                    </Switch>\n                </nav>\n            </div>\n        )\n    } else {\n        return (\n            <div className=\"header\">\n                <img className=\"logo\" src={logo} alt=\"Around The US logo\" />\n                <nav className=\"header__nav-wrapper\">\n                    <h3 className=\"header__email\">{props.userData.email}</h3>\n                    <button onClick={signOut} className=\"button header__button\">Log out</button>\n                </nav>\n            </div>\n        )\n    }\n}\n\nexport default Header","import React from 'react';\n\nfunction ImagePopup(props) {\n    return (\n        <div className={`popup popup__image-preview ${props.card && 'popup_is_open'}`}>\n            <div className=\"overlay\">\n                <div className=\"popup__container popup__container_type-image-preview\">\n                    <button aria-label=\"close\" className=\"button popup__close popup__close-image-preview\"\n                        type=\"button\" onClick={props.onClose}></button>\n                    <img className=\"popup__image\" src={props.card?.link} alt={props.card?.name} />\n                    <h2 className=\"popup__caption\">{props.card?.name}</h2>\n                </div>\n            </div>\n        </div>\n\n    )\n}\n\nexport default ImagePopup;","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","import React from 'react';\nimport errorImage from '../images/error.svg';\nimport successImage from '../images/success.svg';\n\nfunction InfoToolTip(props) {\n    const { isRegistered } = props;\n\n    return (\n        <div className={`popup popup__message ${props.isOpen ? 'popup_is_open' : ''}`}>\n            <div className=\"overlay\">\n                <div className=\"popup__container popup__container_type-message\">\n                    <button aria-label=\"close\" className=\"button popup__close popup__close-message\"\n                        type=\"button\" onClick={props.onClose}></button>\n                    <img className=\"popup__message-image\" src={isRegistered ? successImage : errorImage} alt={isRegistered ? \"Success\" : \"Error\"} />\n                    <h2 className=\"popup__message-text\">{isRegistered ? \"Success! You have now been registered.\" : \"Oops, something went wrong! Please try again.\"}</h2>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default InfoToolTip;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction AuthForm(props) {\n    return (\n        <div className=\"auth-form\">\n            <form name=\"\" className=\"auth-form__form\" action=\"#\">\n                <h2 className=\"auth-form__title\">{props.title}</h2>\n                <input name=\"email\" type=\"email\" value={props.email} onChange={props.onEmailChange} className=\"auth-form__input\" placeholder=\"Email\" />\n                <input name=\"password\" type=\"password\" value={props.password} onChange={props.onPasswordChange} className=\"auth-form__input\" placeholder=\"Password\" />\n                <button onClick={props.handleSubmit} className=\"button auth-form__button\">{props.buttonText}</button>\n            </form>\n            <div className=\"auth-form__footer\">\n                <Link to={`${props.footerLink}`} className=\"auth-form__link\">{props.footerText}</Link>\n            </div>\n        </div>\n    )\n}\n\nexport default AuthForm;","import React, { useState } from \"react\";\nimport AuthForm from './AuthForm.js';\n\nfunction Login(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    function handleEmailChange(e) {\n        setEmail(e.target.value);\n    }\n\n    function handlePasswordChange(e) {\n        setPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        if (!email || !password) {\n            return;\n        }\n        props.onSubmit({ email, password });\n    }\n\n    return (\n        <AuthForm\n            buttonText=\"Log in\"\n            email={email}\n            footerLink=\"/signup\"\n            footerText=\"Not a member yet? Sing up here!\"\n            handleSubmit={handleSubmit}\n            onEmailChange={handleEmailChange}\n            onPasswordChange={handlePasswordChange}\n            password={password}\n            title=\"Log in\"\n        />\n    );\n}\n\nexport default Login;","export default __webpack_public_path__ + \"static/media/trash.8cb59aa9.svg\";","import React from 'react';\nimport trashPath from '../images/trash.svg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const isOwn = props.card.owner._id === currentUser._id;\n    const cardDeleteButtonClassName = (\n        `card__delete ${isOwn ? 'card__delete_visible' : 'card__delete_hidden'}`\n    );\n\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n    const cardLikeButtonClassName = (\n        `card__like ${isLiked ? 'card__like_act' : ''}`\n    );\n\n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n\n    function handleLikeClick() {\n        props.onCardLike(props.card)\n    }\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.card)\n    }\n\n    return (\n        <ul className=\"places__item\">\n            <li className=\"card\">\n                <button type=\"button\" className={`button card__delete ${cardDeleteButtonClassName}`} onClick={handleDeleteClick}>\n                    <img src={trashPath}\n                        alt=\"Trash icon\" /></button>\n                <div className=\"card__image\" style={{ backgroundImage: `url(${props.card.link})` }} onClick={handleClick}></div>\n                <div className=\"card__caption\">\n                    <h2 className=\"card__text\">{props.card.name}</h2>\n                    <div className=\"card__like-container\">\n                        <button type=\"button\" className={`button card__like ${cardLikeButtonClassName}`} onClick={handleLikeClick}></button>\n                        <p className=\"card__like-count\">{props.card.likes.length}</p>\n                    </div>\n                </div>\n            </li>\n        </ul>\n    )\n}\n\nexport default Card","import React from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n\n        <div className=\"main\">\n\n            <div className=\"profile\">\n                <div className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})` }}>\n                    <button type=\"button\" className=\"button profile__avatar-edit\" onClick={props.onEditAvatar}></button>\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\n                    <button aria__label=\"edit\" className=\"profile__edit button\" type=\"button\" onClick={props.onEditProfile}></button>\n                    <p className=\"profile__title\">{currentUser.about}</p>\n                </div>\n                <button aria__label=\"add\" type=\"button\" className=\"button profile__add\" onClick={props.onAddPlace}></button>\n            </div>\n\n            <div className=\"places\">\n                <ul className=\"places__list\">\n                    {props.cards.map((card) => (\n                        <Card\n                            key={card._id}\n                            card={card}\n                            onCardClick={props.handleCardClick}\n                            onCardLike={props.onCardLike}\n                            onCardDelete={props.onCardDelete}\n                        />))}\n                </ul>\n            </div>\n\n        </div>\n    )\n}\n\n\nexport default Main;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport const ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to='./signin' />\n      }\n    </Route>\n)}\n","import React, { useState } from 'react';\nimport AuthForm from \"./AuthForm.js\";\n\n\nfunction Register(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    function handleEmailChange(e) {\n        setEmail(e.target.value);\n    }\n\n    function handlePasswordChange(e) {\n        setPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onSubmit({ email, password });\n    }\n\n    return (\n        <AuthForm\n            buttonText=\"Sign up\"\n            email={email}\n            footerLink=\"/signin\"\n            footerText=\"Already a member? Log in here!\"\n            handleSubmit={handleSubmit}\n            onEmailChange={handleEmailChange}\n            onPasswordChange={handlePasswordChange}\n            password={password}\n            title=\"Sign up\"\n        />\n    )\n\n}\n\nexport default Register;\n","import React, { useState, useEffect } from 'react';\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\n\nimport AddPlacePopup from './AddPlacePopup.js';\nimport api from '../utils/api.js';\nimport auth from '../utils/auth.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport Footer from './Footer.js';\nimport Header from './Header.js';\nimport ImagePopup from './ImagePopup.js';\nimport InfoToolTip from './InfoToolTip.js';\nimport Login from './Login.js';\nimport Main from './Main.js';\nimport { ProtectedRoute } from './ProtectedRoute.js';\nimport Register from './Register.js';\n\n\nfunction App(props) {\n    const [addPlacePopupOpen, setIsAddPlaceOpen] = useState(false);\n    const [cards, setCards] = useState([]);\n    const [currentUser, setCurrentUser] = useState({});\n    const [editAvatarPopupOpen, setIsEditAvatarOpen] = useState(false);\n    const [editProfilePopupOpen, setIsEditProfileOpen] = useState(false);\n    const [infoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState(null);\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [register, setRegister] = useState(false);\n    const [userData, setUserData] = useState({});\n    const history = useHistory();\n\n    // currentUser\n    React.useEffect(() => {\n        const token = localStorage.getItem('token');\n        api.getUserInfo(token)\n            .then((res) => {\n                setCurrentUser({\n                    ...currentUser,\n                    name: res.name,\n                    about: res.about,\n                    avatar: res.avatar,\n                    _id: res._id\n                })\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n\n    // registering user\n    function handleRegister({ email, password }) {\n        auth.registerUser(email, password)\n            .then((res) => {\n                handleInfoToolTipOpen();\n                if (res) {\n                    setRegister(true);\n                    history.push('/signin');\n                }\n                else {\n                    return\n                }\n            }).catch(e => {\n                console.log(e);\n            })\n    }\n\n    // checking token\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token) {\n            auth.getContent(token)\n                .then((res) => {\n                    setLoggedIn(true);\n                    setUserData(res.data);\n                    history.push('/main');\n                }\n                )\n                .catch((e) => console.log(e))\n        }\n    }, [history])\n    \n\n    // logging in\n    function handleLogin({ email, password }) {\n        auth.authorizeUser(email, password)\n            .then((res) => {\n                setUserData(email);\n                if (res.token) {\n                    setLoggedIn(true);\n                    history.push('/main');\n                }\n            })\n            .catch(err => console.log(err));\n    }\n\n    // logging out\n    function handleLogOut() {\n        setUserData({});\n        setLoggedIn(false);\n    }\n\n\n    // cards\n    useEffect(() => {\n        api.getCardsList()\n            .then((res) => {\n                setCards(res)\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    function handleCardLike(card) {\n        const token = localStorage.getItem('token');\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        if (!isLiked) {\n            api.addLike(token, card._id)\n                .then((newCard) => {\n                    setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n                })\n                .catch((err) => {\n                    console.log(err);\n                })\n        }\n        else {\n            api.deleteLike(token, card._id)\n                .then((newCard) => {\n                    setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n                })\n                .catch((err) => {\n                    console.log(err);\n                })\n        }\n    }\n\n    function handleCardDelete(card) {\n        const token = localStorage.getItem('token');\n        api\n            .removeCard(token, card._id)\n            .then(() => {\n                const updatedList = cards.filter((c) => c._id !== card._id);\n                setCards(updatedList);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n\n    }\n\n    //popups \n    function handleAddPlaceOpen() {\n        setIsAddPlaceOpen(true);\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    function handleEditAvatarOpen() {\n        setIsEditAvatarOpen(true);\n    }\n\n    function handleEditProfileOpen() {\n        setIsEditProfileOpen(true);\n    }\n\n    function handleInfoToolTipOpen() {\n        setIsInfoToolTipOpen(true);\n    }\n\n    function closeAllPopups() {\n        setIsAddPlaceOpen(false);\n        setIsEditAvatarOpen(false);\n        setIsEditProfileOpen(false);\n        setIsInfoToolTipOpen(false);\n        setSelectedCard(null);\n    }\n\n    function handleUpdateUser(newUser) {\n        const token = localStorage.getItem('token');\n        api.setUserInfo(token, { name: newUser.name, about: newUser.about })\n            .then((res) => {\n                setCurrentUser({\n                    ...currentUser,\n                    name: newUser.name,\n                    about: newUser.about\n                })\n            })\n            .then(closeAllPopups)\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    function handleUpdateAvatar(newUser) {\n        const token = localStorage.getItem('token');\n        api.setUserPic(token, { avatar: newUser.avatar })\n            .then(() => {\n                setCurrentUser({\n                    ...currentUser,\n                    avatar: newUser.avatar\n                })\n            })\n            .then(closeAllPopups)\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    function handleAddPlaceSubmit(card) {\n        const token = localStorage.getItem('token');\n        api.addCard(token, { name: card.name, link: card.link })\n            .then((card) => {\n                setCards([card, ...cards])\n            })\n\n            .then(closeAllPopups)\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    return (\n\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"App\">\n                <Header loggedIn={loggedIn} userData={userData} onLogOut={handleLogOut} />\n\n                <ImagePopup\n                    card={selectedCard}\n                    onClose={closeAllPopups}\n                />\n\n                <AddPlacePopup isOpen={addPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n                <EditAvatarPopup isOpen={editAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n\n                <EditProfilePopup isOpen={editProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n                <InfoToolTip isOpen={infoToolTipOpen} onClose={closeAllPopups} isRegistered={register} />\n\n                <Switch>\n\n                    <ProtectedRoute exact path=\"/main\"\n                        loggedIn={loggedIn}\n                        component={Main}\n                        cards={cards}\n                        handleCardClick={handleCardClick}\n                        onAddPlace={handleAddPlaceOpen}\n                        onCardDelete={handleCardDelete}\n                        onCardLike={handleCardLike}\n                        onClose={closeAllPopups}\n                        onEditAvatar={handleEditAvatarOpen}\n                        onEditProfile={handleEditProfileOpen}>\n                    </ProtectedRoute>\n\n                    <Route exact path=\"/signup\">\n                        <Register onSubmit={handleRegister} />\n                    </Route>\n\n                    <Route exact path=\"/signin\">\n                        <Login onSubmit={handleLogin} />\n                    </Route>\n\n                    <Route exact path=\"/\">\n                        {loggedIn\n                            ? <Redirect to=\"/main\" />\n                            : <Redirect to=\"/signin\" />}\n                    </Route>\n\n                </Switch>\n                {loggedIn && <Footer />}\n            </div>\n        </CurrentUserContext.Provider>\n\n    )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}